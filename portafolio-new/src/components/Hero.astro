---
import { type Lang, defaultLang } from "../i18n/translations";
import { useTranslations } from "../i18n/utils";
import AnimatedSection from "./ui/AnimatedSection";
import AnimatedCounter from "./ui/AnimatedCounter";

interface Props {
  lang?: Lang;
}

const { lang = defaultLang } = Astro.props;
const t = useTranslations(lang);

const stats = [
  { value: 54, suffix: "+", label: t("hero.stats.projects") },
  { value: 35730, suffix: "+", label: t("hero.stats.downloads"), format: "K" },
  { value: 23, suffix: "+", label: t("hero.stats.apps") },
];
---

<section
  class="flex min-h-screen items-center justify-center px-4 sm:px-6 pt-16 sm:pt-20"
>
  <div class="mx-auto max-w-4xl text-center">
    <AnimatedSection client:load>
      <p class="mb-4 text-sm font-medium tracking-wider text-primary-600 dark:text-primary-400 uppercase">
        {t("hero.role")}
      </p>
    </AnimatedSection>

    <AnimatedSection client:load delay={0.1}>
      <h1
        class="mb-4 sm:mb-6 text-3xl font-bold leading-tight text-gray-900 dark:text-white sm:text-4xl md:text-5xl lg:text-6xl"
      >
        Brandon Steven
        <span class="block text-primary-600 dark:text-primary-400">Rincon Gutierrez</span>
      </h1>
    </AnimatedSection>

    <AnimatedSection client:load delay={0.2}>
      <p class="mx-auto mb-8 sm:mb-10 max-w-2xl text-base sm:text-lg text-gray-600 dark:text-gray-400 md:text-xl">
        {t("hero.tagline")}
      </p>
    </AnimatedSection>

    <AnimatedSection client:load delay={0.3}>
      <div class="flex flex-wrap items-center justify-center gap-4">
        <a
          href="#portfolio"
          class="inline-flex items-center gap-2 rounded-full bg-gray-900 dark:bg-white px-6 py-3 text-sm font-medium text-white dark:text-gray-900 transition-all hover:bg-gray-800 dark:hover:bg-gray-100 hover:scale-105"
        >
          {t("hero.cta.portfolio")}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </a>
        <a
          href="#contact"
          class="inline-flex items-center gap-2 rounded-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-6 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 transition-all hover:border-gray-400 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"
        >
          {t("hero.cta.contact")}
        </a>
      </div>
    </AnimatedSection>

    <AnimatedSection client:load delay={0.4}>
      <div
        class="mt-10 sm:mt-12 md:mt-16 flex flex-wrap items-center justify-center gap-6 sm:gap-8 md:gap-16"
      >
        {stats.map((stat) => (
          <div class="text-center">
            <p class="text-3xl font-bold text-gray-900 dark:text-white md:text-4xl">
              {stat.format === "K" ? (
                <AnimatedCounter
                  client:visible
                  value={stat.value}
                  suffix={stat.suffix}
                  formatFn={(v: number) => {
                    if (v >= 1000) {
                      return (v / 1000).toFixed(v % 1000 === 0 ? 0 : 1) + "K";
                    }
                    return v.toString();
                  }}
                />
              ) : (
                <AnimatedCounter
                  client:visible
                  value={stat.value}
                  suffix={stat.suffix}
                />
              )}
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-400">{stat.label}</p>
          </div>
        ))}
      </div>
    </AnimatedSection>
  </div>
</section>
